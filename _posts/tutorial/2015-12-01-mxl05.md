---
layout: post
title:  Queries with MxL
description: "Learn how to formulate queries or business rules with MxL."
date:   2015-12-01 23:00:00
category: "tutorial"
tutorial: "MxL"
nr: 5
---

The following exemplary expressions show how MxL can be used to access and query the SocioCortex data model. For this purpose, we use a data model with Deparments, Employees, and Projects as a foundation:

![Overview over basic types of MxL]({{ "/img/tutorials/example.jpg" }})

Based on this data model, we can formulate the following queries:

| Exemple Query                         | Result    |
| ---------------------------------------- | --------- |
| `find(Employee)`                              | `false`   |
| `find(Employee)`<br/>`  .where(e => e.Salary > 20)`                              | `false`   |
| `find(Employee)`<br/>`  .where(Salary > 20)`                              | `true`    |
| `find(Employee)`<br/>`  .where(Salary > 20)`<br/>`  .select(Name)`                    | `true`    |
| `find(Project)`<br/>`  .select({`<br/>    `Name: Name,`<br/>`    MemberCount: Member.count()`<br/>`  })`   | `true`    |
| `find(Project)`<br/>`  .select({`<br/>    `Name,`<br/>`    MemberCount: Member.count()`<br/>`  })`   | `true`    |
| `find(Project)`<br/>`  .select({`<br/>    `Name: Name,`<br/>`    DepartmentCount: Member.select(Location).distict().count()`<br/>`  })`   | `true`    |
| `find(Department)`<br/>`  .select(d => d.get Employee whereis Location`<br/>`    .any(e => e.Salary > 20 ))`  | `true`    |
| `find(Department)`<br/>`  .sum(get Employee whereis Location.count())`  | `true`    |
| `/* First we define a function, which determines`<br/>`  if a given employee has at least one project */`<br/>`let hasWork = (e:Employee) =>`<br/>`  e.get Project whereis Member.isNotEmpty() in`<br/>`  find(Department)`<br/>`  .ratio(get Employee whereis Location`<br/>`    .all(e => hasWork(e)))`  | `true`    |